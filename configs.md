# Формат конфигурационных файлов

Будет использоваться формат, похожий на формат `.ini`. Он вылядит следующим образом:

~~~~~
[Section1]
<name1>[:<type1>]=<value1>
<name2>[:<type2>]=<value2>
...

[Section2]
...
~~~~~

Названия секций и полей&mdash; строки, состоящие из латинских букв, цифр, символов `-`, `_`, `.`, `/`. Между `<name>` и `:`, `:` и `<type>`, `<type>` и `=`, `=` и `<value>`, а также в конце строки разрешается любое количество пробелов.

С символа `#` начинаются однострочные комментарии. Комментарии могут появиться в начале строки или в ее середине. Символ `#` внутри значения типа `string` или `char` началом комментария не считается.

Названия секций и полей регистро-зависимы, но отличаться только регистром названия не должны. В разных секциях могут быть поля с одинаковыми названиями.

Поддерживаются следующие типы: `int`, `float`, `char`, `string`, `int[]`, `float[]`,  `char[]`, `string[]`. Если тип не указан явно, он выводится, причем между `int` и `float` (если есть неоднозначность) выбирается `int`, и между `char` и `string` выбирается `char`. Аналогично с `int[]` и `float[]` и т. д.

* `int`&mdash; целое число, например: `0`, `42`, `-38`, `42742`. Считается, что число 64-х битное знаковое.
* `float`&mash; вещественное число, например: `5.2`, `2e5`, `5`, `-24885`, `inf`. Для хранения таких чисел должен использоваться `long double`.
* `char`&mdash; одиночный символ, заключенный в `''` или `""`, поддерживается экранирование как в C. Например: `"c"`, `'\n'`, `"\033"`, `'\''`.
* `string`&mdash; последовательность символов, заключенная в `''` или `""`, также поддерживается экранирование как в C. Например, `"hello"`, `'Multiline\ntext'`, `"abracadabra"`, `"\"Quotes\""`.
* `int[]`, `float[]`, `char[]`, `string[]`&mdash массивы, перечисляющие значения через запятую и заключенные в `{}`. Например, `{1, 2, 3, 4}`, `{1.5, inf, 2.44, -453}`, `{'c', 'h', 'a', 'r', 's', '\n'}`, `{"I", 'have', "an", '\'array\'', "of", 'strings'}`.

Поле любого типа может иметь значение `null`, обозначающее "переменная есть, но ей не назначено значение".

Пример файла:

~~~~~
[Integers]
a=4
long.integer-42 : int = 28518515 # длинное число
_: int = -0
hack = 555
arr1={1,2,3,4,5}
arr2 : int[]   =  { 42,   492759,   248,  48   } # komment

[Floats]
q:float=33
88=88
_=248.8513
inf942: float =   inf
HELLO/world:float[]={1, 2.3, -42.5}
HEllO={-inf, nan, 11, 0.0}

[Chars/And/Strings]
c1:char='\n'
s1='hello\n\'\"\\\''
q1:  string = ""
arr1 = {'a', 'hello', "array of string", "# this is not comment"}
~~~~~
